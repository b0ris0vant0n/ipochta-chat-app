
# iPochta Chat Application

iPochta Chat Application — это приложение для обмена сообщениями в реальном времени, созданное с использованием **FastAPI** для бэкенда и **React** для фронтенда. Приложение поддерживает аутентификацию пользователей, сохранение истории сообщений, выбор собеседников и обмен сообщениями через WebSocket.

## Функциональность

- **Аутентификация пользователей**: Регистрация, логин и выход.
- **Сообщения в реальном времени**: Обмен сообщениями через WebSocket.
- **Выбор собеседника**: Поиск собеседников, с которыми велась переписка ранее.
- **История сообщений**: Сохранение и отображение истории переписки.
- **Telegram-уведомления**: Настроены уведомления через Telegram-бота с использованием Aiogram.

## Стек технологий

- **Бэкенд**: FastAPI, PostgreSQL, Redis, Celery, Docker
- **Фронтенд**: React
- **Обратное проксирование**: Nginx

## Установка и запуск проекта

### 1. Клонирование репозитория

```bash
git clone https://github.com/b0ris0vant0n/ipochta-chat-app.git
cd ipochta-chat-app
```

### 2. Конфигурация Docker

Проект использует несколько Docker Compose файлов для изоляции сервисов:

- `./iPochta-back/docker-compose.yml` — для бэкенда (FastAPI, PostgreSQL, Redis, Celery)
- `./iPochta-front/docker-compose.yml` — для фронтенда (React)
- `docker-compose.yml` — для Nginx (обратное проксирование)

### 3. Запуск проекта

#### Шаг 1: Запуск бэкенда

Добавьте переменные для БД в файле `.env` в папке iPochta-back.

Выполните команду для запуска бэкенда:

```bash
docker-compose -f iPochta-back/docker-compose.yml up --build -d 
```

Бэкенд будет доступен на `http://localhost:8000`.

#### Шаг 2: Запуск фронтенда

Выполните команду для запуска фронтенда:

```bash
docker-compose -f iPochta-front/docker-compose.yml up --build -d 
```

Фронтенд будет доступен на `http://localhost:3000`.

#### Шаг 3: Запуск Nginx

Для проксирования запросов от фронтенда к бэкенду запустите Nginx:

```bash
docker-compose up --build
```

## Как использовать

1. **Регистрация и Логин**: На главной странице можно зарегистрироваться или войти в систему.
2. **Выбор собеседника**: После входа можно выбрать собеседника из списка, либо ввести имя (username) собеседника в поле input.
3. **Обмен сообщениями**: Введите сообщение и нажмите "Отправить". Сообщения отображаются в реальном времени.

## Настройка Telegram-уведомлений

Для настройки Telegram-уведомлений:

1. Создайте бота через BotFather и получите токен.
2. Добавьте токен в переменные окружения в файле `.env` в папке iPochta-back.
